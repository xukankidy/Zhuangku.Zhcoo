"use strict";let _aa={_ab:{_ac:1e4,_ad:function(){let n=_aa._ab;return n._ac++},_ae:"zk-icon-16-",_af:"zk-icon-16-",_ag:5,_ah:200,_ai:"请稍候...",_aj:function(){}},_ak:{_al:null,_am:null,_an:null,_ao:null,_ap:null,_aq:null,_ar:null,_as:null,_aj:function(){let n=_aa._ak;n._al=$("#ZkHtmlTag");n._am=$("#ZkBodyTag");n._an=$("#ZkWrapper");n._ao=$("#ZkHeaderWrapper");n._ap=$("#ZkBodyWrapper");n._aq=$("#ZkMainMenuWrapper");n._ar=$("#ZkContentWrapper");n._as=$("#ZkLoadingWrapper")}},_at:{_au:function(n){let i={id:"","class":"",text:""};typeof n=="string"&&(i.text=n);n=$.extend(i,n);let t=$('<span class="zk-text">'+n.text+"<\/span>");return n.id&&t.attr("id",n.id),n.class&&t.addClass(n.class),t},_av:function(n){let i={id:"",clsss:"",title:""};typeof n=="string"&&(i.class=n);n=$.extend(i,n);let t=$('<i class="zk-icon"><\/i>');return n.id&&t.attr("id",n.id),n.class&&t.addClass(n.class),n.title&&t.attr("title",n.title),t},_aw:function(n){n=$.extend({id:"",clsss:"btn-primary",title:"",text:""},n);let t=$('<button type="button" class="zk-button btn"><\/button>');return n.id&&t.attr("id",n.id),n.class&&t.addClass(n.class),n.title&&t.attr("title",n.title),n.text&&t.text(n.text),t},_ax:function(){return $('<div class="zk-hr"><\/div>')},_ay:function(){return $('<div class="loadingIcon"><i><\/i><\/div>')},_az:function(){let n=_aa._ab;return $('<div class="zk-mask"><\/div>')._aA()},_aB:function(n){n=$.extend({id:"",clsss:""},n);let t=$('<div class="zk-border"><\/div>');return n.id&&t.attr("id",n.id),n.class&&t.addClass(n.class),t},_aC:function(n){n=$.extend({id:"",clsss:"",src:""},n);let t=$('<iframe class="zk-iframe"><\/iframe>');return n.id&&t.attr("id",n.id),n.class&&t.addClass(n.class),n.src&&t.attr("src",n.src),t}},_aD:{_aE:function(){},_aF:function(){},_aG:function(){},_aH:function(){},_aI:{_aJ:function(n){let r=_aa._ab,t=_aa._aD._aI._aK,i=_aa._aD._aI;n=$.extend({id:"",title:"",icon:"list",src:"",isIframe:!1,isClosable:!0},n);$._aL(t._aM,n.id)?t._aN===n.id?alert("标签已打开"):i._aO(n.id):t._aM.length>=r._ag?alert("打开最大数限制"):i._aP(n)},_aO:function(n){let r=_aa._at,u=_aa._ab,f=_aa._aD,t=_aa._aD._aI._aQ,i=_aa._aD._aI._aK;t._aR.find("#Tab_aS"+n).addClass("on").siblings().removeClass("on");t._aT.find("#Tab_aU"+n).show().addClass("on").siblings().removeClass("on").hide();i._aN=n},_aV:function(n){let f=_aa._at,e=_aa._ab,u=_aa._aD,r=_aa._aD._aI._aQ,t=_aa._aD._aI._aK;r._aR.find("#Tab_aS"+n).remove();r._aT.find("#Tab_aU"+n).remove();let i=0;for(let r=0,u=t._aM.length;r<u;r++){let u=t._aM[r];if(u.id===n&&u.isClosable===!0){t._aM.splice(r,1);i=r;break}}n===t._aN&&(i===t._aM.length&&i--,u._aI._aO(t._aM[i].id))},_aW:function(){},_aP:function(n){let t=_aa._at,f=_aa._ab,r=_aa._aD,u=_aa._aD._aI._aQ,o=_aa._aD._aI._aK,i=t._aB({id:"Tab_aS"+n.id,"class":"zk-tvtb-item-wrapper"}),s=t._av({"class":"zk-tvtb-item-icon "+f._ae+n.icon}),h=t._au(n.title),e=t._av({"class":"zk-tvtb-item-closeIcon "+f._ae+"tabViewTagOpitionClose",title:"关闭该标签页"});if(i.append(s).append(h),n.isClosable&&(i.append(e),e.click(function(t){t.stopPropagation();r._aI._aV(n.id)})),u._aR.append(i),i.click(function(t){t.which===1&&r._aI._aO(n.id)}).mouseup(function(){}),n.isIframe){let i=t._aC({id:"Tab_aU"+n.id,"class":"zk-iframe-tvc",src:n.src})._aA();u._aT.append(i)}else{let i=t._aB({id:"Tab_aU"+n.id,"class":"zk-page-tvc"})._aA();u._aT.append(i);_aa._aX._aY({url:n.src,dataType:"html",mask:!0,loadingTxt:"页面加载中，请稍候...",done:function(n){i.append(n)}})}o._aM.push(n);r._aI._aO(n.id)},_aZ:function(){},_ba:function(){},_bb:function(){},_bc:function(){},_aQ:{_bd:null,_be:null,_bf:null,_aR:null,_bg:null,_aT:null,_aj:function(){let r=_aa._ak,n=_aa._at,t=_aa._aD;this._bd=n._aB({id:"ZkTabViewWrapper"});this._be=n._aB({id:"ZkTabViewTabBarWrapper"});this._bf=n._aB({id:"ZkTabViewTabBarTagGroupWrapper"});this._aR=n._aB({id:"ZkTabViewTabBarTagGroupInnerWrapper"});this._bg=n._aB({id:"ZkTabViewTabBarOptionWrapper"});this._aT=n._aB({id:"ZkTabViewContentViewWrapper"});this._bd.append(this._be.append(this._bf.append(this._aR)).append(this._bg).contextmenu(function(){return!1})).append(this._aT);let i=n._av({id:"ZkTvtbbOptionIcon","class":"zk-icon-24-list"});this._bg.append(i).attr("title","已打开标签页列表").click(function(){let i=$(this),r=$("#ZkTvtbbOptionIconCm");if(r.length>0){r._bh();return}let e=i.offset().top+i.height(),u=_aa._aD._aI,n=_aa._aD._aI._aK._aM,o=_aa._aD._aI._aK._aN,f=t._bi._bj({id:"ZkTvtbbOptionIconCm",top:e,right:10});for(let i=0,r=n.length;i<r;i++)f._bk(t._bl._bj({title:n[i].title,icon:n[i].icon,option:n[i].isClosable?"close":null,isActivated:n[i].id==o?!0:!1,clickCallback:function(){u._aO(n[i].id)},optionCallback:function(){u._aV(n[i].id)}}));f._bm()})}},_aK:{_aM:[],_aN:""},_aj:function(){let n=_aa._ak;this._aQ._aj();n._ar.append(this._aQ._bd)}},_bn:{_bo:function(n){for(let t=0,i=n.length;t<i;t++)this._bp(n[t])},_bp:function(n){console.log(n);let s=_aa._ak,t=_aa._at,u=_aa._aD,f=_aa._ab,i=t._aB({"class":"zk-mainmenuitem-wrapper"}),r=t._aB({"class":"zk-mainmenuitem-innerwrapper"}),e=t._av({"class":f._af+n.Icon+" zk-mainmenuitem-icon"}),o=t._au({"class":"zk-mainmenuitem-text",text:n.Title});r.append(e).append(o);i.append(r);u._bn._aQ._bq.append(i)},_aQ:{_bq:null,_aj:function(n){let r=_aa._ak,t=_aa._at,i=_aa._aD;this._bq=t._aB({id:"ZkMenuViewWrapper"});i._bn._bo(n)}},_aj:function(n){let t=_aa._ak;this._aQ._aj(n);t._aq.append(this._aQ._bq)}},_bi:{_bj:function(n){let i=_aa._at,r=_aa._ak,u=this._aQ,f=_aa._ab;n=$.extend({id:"","class":"",top:null,left:null,right:null,bottom:null},n);let t=i._aB({"class":"zk-contextmenu-wrapper"});return n.id&&t.attr("id",n.id),n.class&&t.addClass(n.class),n.top&&t.css({top:n.top}),n.left&&t.css({left:n.left}),n.right&&t.css({right:n.right}),n.bottom&&t.css({bottom:n.bottom}),r._am.append(t),u._br=t,this},_bm:function(){if(this._aQ._br!=undefined){let n=_aa._ak,t=_aa._ab,i=this;this._aQ._br.fadeIn(t._ah,function(){n._am.one("click",function(){i._bs()})})}},_bs:function(){if(this._aQ._br!=undefined){let n=_aa._ab;this._aQ._br._bh(n._ah)}},_bk:function(n){this._aQ._br.append(n._aQ._br)},_aQ:{_br:null}},_bl:{_bj:function(n){let i=_aa._at,e=_aa._ak,t=this._aQ,f=_aa._ab;n=$.extend({id:"","class":"",icon:"file",title:"",isActivated:!1,option:null,clickCallback:null,optionCallback:null},n);let r=i._aB({"class":"zk-contextmenuitem-wrapper"}),u=i._aB({"class":"zk-contextmenuitem-innerwrapper"});return r.append(u),n.id&&r.attr("id",n.id),n.class&&r.addClass(n.class),n.icon&&(t._bt=i._av({"class":f._ae+n.icon}),u.append(t._bt)),n.title&&(t._bu=i._au({text:n.title}),u.append(t._bu)),n.isActivated&&u.addClass("zk-on"),n.option&&(t._bv=i._av({"class":f._ae+"tabViewTagOpitionClose"}).addClass("zk-contextmenuitem-option"),r.append(t._bv),n.optionCallback&&t._bv.click(function(){n.optionCallback()})),t._br=r,n.clickCallback&&u.click(function(){n.clickCallback()}),this},_aQ:{_br:null,_bw:null,_bt:null,_bu:null,_bv:null}},_bx:function(n){let t=_aa._at,f=_aa._ab,e=_aa._aD;n=$.extend({id:"",clsss:"",text:""},n);let i=t._aB({id:n.id,"class":n.class}).addClass("zk-loadingPanel"),r=t._ay(),u=t._au(n.text);return i.append(r),n.text&&(r.css({"margin-right":"10px"}),i.append(u)),i}},_aX:{_by:function(n){function h(){t.css({"margin-left":-(t.outerWidth()/2)}).animate({opacity:1});i.animate({opacity:.7})}let f=_aa._at,r=_aa._ab,e=_aa._aD,o=_aa._ak,s={url:null,type:"POST",dataType:"json",data:null,mask:!1,loadingTxt:r._ai,done:null,fail:null,always:null};n=$.extend(s,n);let i=null,t=null,u=0;n.mask&&(i=f._az(),t=e._bx({text:n.loadingTxt})._aA().css({opacity:0}),o._am.append(i).append(t),u=setTimeout(h,1e3));$.ajax({url:n.url,type:n.type,timeout:r._bz,dataType:n.dataType,data:n.data,cache:!1}).done(function(t){n.done&&n.done(t)}).fail(function(t){if(n.fail){let i="请求失败，请稍候重试";t.statusText==="timeout"?i="请求超时，请重试":t.statusText==="error"&&(t.status===404?i="你请求的资源不存在":t.status===500&&(i="服务器发生错误，请稍候重试"));n.fail(i)}}).always(function(){n.always&&n.always();i&&i._bh(r._ah);t&&t._bh(r._ah);u>0&&clearTimeout(u)})},_bA:function(n){n.type="POST";_aa._aX._by(n)},_aY:function(n){n.type="GET";_aa._aX._by(n)}},_bB:{},_aj:function(n){let i=_aa._ak,r=_aa._ab,t=_aa._aD,u=_aa._aX._bA;i._aj();r._aj(n);t._aI._aj();t._aI._aJ({id:"ZkMyHomePage",icon:"desktop",title:"我的首页",isIframe:!0,isClosable:!1,src:"http://map.baidu.com/"});u({url:"/MainMenu/GetList/",done:function(n){n.IsSuccess?(t._bn._aj(n.Datas),i._as._bh()):alert(n.Message)}})}},zk={initialize:_aa._aj,alert:_aa._aD._aE,confirm:_aa._aD._aF,popup:_aa._aD._aH,Message:_aa._aD._aG,addTabItem:_aa._aD._aI._aJ,post:_aa._aX._bA,get:_aa._aX._aY};(function(n){n.fn.extend({_bh:function(t,i){let r=n(this);r.fadeOut(t,function(){r.remove();i&&i()})},_aA:function(){let i=_aa._ab,t=n(this);return t.css({"z-index":i._ad()}),t},_bC:function(t,i){let u=n(this),r=0;u.on("mouseenter",function(){r>0&&clearTimeout(r)}).on("mouseleave",function(){r=setTimeout(t,i)});return u},_bD:function(){let t=n(this);t.fadeIn(500)}});n.extend({_bE:function(t,i){let r=n.inArray(i,t);return r>=0?!0:!1},_aL:function(n,t){for(let i=0,r=n.length;i<r;i++)if(n[i].id===t)return!0;return!1}})})(jQuery)